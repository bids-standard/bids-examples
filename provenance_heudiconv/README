# Provenance of DICOM to Nifti conversion with `heudiconv`

## Goal

This example aims at showing provenance records for a DICOM to Nifti conversion, performed by [`heudiconv`](https://heudiconv.readthedocs.io/en/latest/). Provenance metadata was created manually ; it acts as a guideline for further machine-generated provenance by `heudiconv`. 

## Source data

That the `sourcedata/` directory contains the source dataset (DICOM files) known as [hirni-demo](https://github.com/psychoinformatics-de/hirni-demo).

## Directory tree

After conversion, and adding provenance traces, the directory tree is as follows.

Legend:
* files with a ⭐ were generated by `heudiconv`;
* files with a ✍️ were generated manually;
* files with a 🤖 were computed from the manually generated provenance metadata;
* files with ⭐✍️ were generated by `heudiconv` and then edited by hand.

> [!NOTE]
> Note that the `docs/` directory contains explanatory data (see [Provenance as a RDF graph](#provenance-as-a-rdf-graph)) that is not required to encode provenance.

```
.
├── ⭐ .bidsignore
├── ⭐ CHANGES
├── ⭐✍️ dataset_description.json
├── ⭐ .heudiconv/
├── ⭐ participants.json
├── ⭐ participants.tsv
├── ✍️ docs/
│   ├── 🤖 prov-heudiconv.jsonld
│   └── 🤖 prov-heudiconv.png
├── ✍️ prov/
│   ├── ✍️ prov-heudiconv_act.json
│   ├── ✍️ prov-heudiconv_ent.json
│   ├── ✍️ prov-heudiconv_env.json
│   └── ✍️ prov-heudiconv_soft.json
├── ⭐✍️ README
├── ⭐ scans.json
├── sourcedata/
│   ├── hirni-demo
│   │   └── ...
│   └── ⭐ README
└── ⭐ sub-001/
    ├── ⭐ anat
    │   ├── ⭐ sub-001_run-1_T1w.json
    │   └── ⭐ sub-001_run-1_T1w.nii.gz
    └── ⭐ sub-001_scans.tsv
```

## Provenance as a RDF graph

Provenance metadata can be aggregated as a JSON-LD RDF graph, which is available in [`docs/prov-heudiconv.jsonld`](docs/prov-heudiconv.jsonld). This is a rendered version of the graph, also available in [`docs/prov-heudiconv.png`](docs/prov-heudiconv.png).

![Rendered version of the RDF graph](docs/prov-heudiconv.png)
